{"version":3,"sources":["../../../src/main/config/database.js"],"names":["require","config","connected","chalk","bold","cyan","error","yellow","disconnected","red","termination","magenta","process","env","NODE_ENV","DB_URL","keys","DB_URL_PRODUCTION","DB_URL_DEVELOPMENT","database","mongoose","connect","useCreateIndex","useNewUrlParser","useFindAndModify","useUnifiedTopology","connection","on","console","log","err","close","exit"],"mappings":";;;;;;;;;AAEA;;AACA;;AACA;;AAJAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,G,CACA;;;AAMA,IAAMC,SAAS,GAAGC,kBAAMC,IAAN,CAAWC,IAA7B;AACA,IAAMC,KAAK,GAAGH,kBAAMC,IAAN,CAAWG,MAAzB;AACA,IAAMC,YAAY,GAAGL,kBAAMC,IAAN,CAAWK,GAAhC;AACA,IAAMC,WAAW,GAAGP,kBAAMC,IAAN,CAAWO,OAA/B;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACvC,MAAMC,OAAM,GAAGC,WAAKC,iBAApB;AACH;;AAED,IAAMF,MAAM,GAAGC,WAAKE,kBAApB;;AAEO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAK;AAC3BC,uBAASC,OAAT,CAAiBN,MAAjB,EAAyB;AACzBO,IAAAA,cAAc,EAAE,IADS;AAEzBC,IAAAA,eAAe,EAAE,IAFQ;AAGzBC,IAAAA,gBAAgB,EAAE,KAHO;AAIzBC,IAAAA,kBAAkB,EAAE;AAJK,GAAzB;;AAOAL,uBAASM,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC,YAAW;AAC/CC,IAAAA,OAAO,CAACC,GAAR,CAAY3B,SAAS,CAAC,qCAAD,CAArB;AACA,GAFA;;AAIDkB,uBAASM,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,UAASG,GAAT,EAAc;AAC7CF,IAAAA,OAAO,CAACC,GAAR,CACCvB,KAAK,CAAC,6CAA6CwB,GAA7C,GAAmD,QAApD,CADN;AAGA,GAJD;;AAMAV,uBAASM,UAAT,CAAoBC,EAApB,CAAuB,cAAvB,EAAuC,YAAW;AACjDC,IAAAA,OAAO,CAACC,GAAR,CAAYrB,YAAY,CAAC,6CAAD,CAAxB;AACA,GAFD;;AAICI,EAAAA,OAAO,CAACe,EAAR,CAAW,QAAX,EAAqB,YAAW;AAChCP,yBAASM,UAAT,CAAoBK,KAApB,CAA0B,YAAW;AACpCH,MAAAA,OAAO,CAACC,GAAR,CACCnB,WAAW,CACV,4EADU,CADZ;AAKAE,MAAAA,OAAO,CAACoB,IAAR,CAAa,CAAb;AACA,KAPD;AAQA,GATA;AAUD,CAhCM","sourcesContent":["require('dotenv').config();\n//Import the mongoose module\nimport mongoose from 'mongoose'\nimport chalk from 'chalk'\nimport {keys} from './keys'\n\n\nconst connected = chalk.bold.cyan;\nconst error = chalk.bold.yellow;\nconst disconnected = chalk.bold.red;\nconst termination = chalk.bold.magenta;\n\nif (process.env.NODE_ENV === 'production') {\n    const DB_URL = keys.DB_URL_PRODUCTION\n}\n\nconst DB_URL = keys.DB_URL_DEVELOPMENT\n\nexport const database = ()=> {\n  mongoose.connect(DB_URL, {\n\t\tuseCreateIndex: true,\n\t\tuseNewUrlParser: true,\n\t\tuseFindAndModify: false,\n\t\tuseUnifiedTopology: true,\n\t})\n\n  mongoose.connection.on('connected', function() {\n\t\tconsole.log(connected('Mongoose default connection is open'));\n\t});\n\n\tmongoose.connection.on('error', function(err) {\n\t\tconsole.log(\n\t\t\terror('Mongoose default connection has occured ' + err + ' error')\n\t\t);\n\t});\n\n\tmongoose.connection.on('disconnected', function() {\n\t\tconsole.log(disconnected('Mongoose default connection is disconnected'));\n\t});\n\n  process.on('SIGINT', function() {\n\t\tmongoose.connection.close(function() {\n\t\t\tconsole.log(\n\t\t\t\ttermination(\n\t\t\t\t\t'Mongoose default connection is disconnected due to application termination'\n\t\t\t\t)\n\t\t\t);\n\t\t\tprocess.exit(0);\n\t\t});\n\t});\n}"],"file":"database.js"}